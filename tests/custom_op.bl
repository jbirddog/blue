
#
# implement assert as custom opcode FF - inline bytecode
#

litb FF entry

# set flags and size
litb 06 b!+
litb 01 b!+

# write bytecode
litb not b!+
litb [ b!+
litb litb b!+
litb FF b!+
litb exit b!+
litb ] b!+
litb if b!+
litb ret b!+

drop

# call custom opcode
true true = FF
true false = not FF

depth exit
