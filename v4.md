# BlueVM

Minimalistic 64 bit Forth-like virtual machine for hackers. The BlueVM aims to:

1. Have a simplistic and hackable codebase
1. Support execution of any previously compiled bytecode
1. Provide a minimal set of opcodes that can be extended by the host
1. Serve as the basis for minimalistic handcrafted applications
1. Allow the host full control

The BlueVM requires a single allocation with the following layout in rwx memory:

1. Input Buffer (1024 bytes)
1. Data Stack (1024 bytes)
1. Opcode Map (2048 bytes)
   1. BlueVM Opcode Map (1024 bytes)
   1. Extended Opcode Map (1024 bytes)
1. Code Buffer (4096 bytes)
   1. BlueVM Data (64 bytes)
   1. Space for Host (4032 bytes)

# Boot

When the BlueVM starts it will perform the allocation mentioned above and set the following 8 byte values at the
beginning of the code buffer:

1. BlueVM state
1. Location of the input buffer
1. Location of the input buffer's here
1. Location of the data stack
1. Location of the data stack's here
1. Location of the opcode map
1. Location of the code buffer
1. Location of the code buffer's here

BlueVM will then read 1024 bytes from stdin into the input buffer and begin interpreting the bytecode. The contents
of this initial 1024 bytes serve as the bootstrap for the host.
