
# check initial stack depth is 0
depth litb 00 = assert

# stack depth is 1 after pushing a value
litb 10 depth litb 01 = assert

# stack depth is 0 after dropping the value
drop
depth litb 00 = assert

# test not
depth litb 02 = not assert

# test swap
litb 02 litb 01 swap depth = assert drop

# test set opcode handler to compile, back to interpret
] [
] [

# check stack is prestine and halt
depth litb 00 = assert
halt

# this shouldn't run
litb FF depth assert = 
